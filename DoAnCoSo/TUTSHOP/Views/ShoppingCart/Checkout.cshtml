@model TUTSHOP.Models.Entities.Order

@{
    ViewData["Title"] = "Checkout";
}
<div class="container mt-5">
    <h2 class="mb-4">@ViewData["Title"]</h2>
    <div class="p-4 shadow-sm" style="border: none;">
        <form asp-action="Checkout" method="post">
            <div class="form-group mb-3">
                <label asp-for="ShippingAddress" class="form-label">Địa chỉ nhận hàng</label>
                <input asp-for="ShippingAddress" class="form-control" placeholder="Nhập địa chỉ của bạn" />
            </div>
            <div class="form-group mb-3">
                <label asp-for="Notes" class="form-label">Ghi chú</label>
                <textarea asp-for="Notes" class="form-control" rows="3" placeholder="Nhập ghi chú (nếu có)"></textarea>
            </div>
            <div class="form-group mb-4">
                <label class="form-label">Phương thức thanh toán</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="paymentMethod" id="paymentMethod1" value="COD" required>
                    <label class="form-check-label" for="paymentMethod1">
                        Thanh toán tiền mặt
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="paymentMethod" id="paymentMethod2" value="VNPay" required>
                    <label class="form-check-label" for="paymentMethod2">
                        VNPay
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="paymentMethod" id="paymentMethod3" value="Paypal" required>
                    <label class="form-check-label" for="paymentMethod3">
                        PayPal
                    </label>
                </div>
            </div>
            <input type="hidden" name="selectedProductIds" id="selectedProductIds" />
            <button type="submit" class="btn btn-primary">Đặt hàng</button>
            <a asp-controller="ShoppingCart" asp-action="Index" class="btn btn-outline-dark ms-2">
                <i class="bi-cart-fill me-1"></i> Quay lại
            </a>
        </form>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var selectedProductIds = [];
            document.querySelectorAll(".item-checkbox:checked").forEach(function (checkbox) {
                selectedProductIds.push(checkbox.getAttribute("data-id"));
            });
            document.getElementById("selectedProductIds").value = selectedProductIds.join(",");
        });
    </script>
}
